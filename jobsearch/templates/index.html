{% extends 'base.html' %}
<!-- ========================= SECTION MAIN ========================= -->

{% load static %}
<!-- ========================= SECTION MAIN ========================= -->

{% block content %}
<style>

  .table{
	  background: linear-gradient(250deg, #dc354585, #0524ff61);
	  height: auto;
	  background-position: center;
	  background-repeat: no-repeat;
	  background-size: cover;
	  border-radius: 5px;
  }
  .orderss {
  background-color: rgba(47, 54, 54, 0.57);
  margin: 5px 5px;
  border-radius: 10px;
  padding: 5px;
  height: auto;
  box-shadow: 10px 7px 20px #0a0000;

}
        table {
            margin: 5px;
            flex: 3;
        }

        table {
  font-family: arial, sans-serif;
  border-collapse: collapse;
  width: 100%;
  background-color: lightblue;
   border-radius: 10px;
}

td, th {
  border: 3px solid #dddddd;
  text-align: left;
  padding: 5px;
   border-color: #96D4D4;
}

tr:nth-child(even) {
  background-color: #dddddd;
}
* {
  box-sizing: border-box;
}


.column {
  float: left;
  width: 100%;
  padding: 5px;
  height: 300px;
}
.column1 {
  float: left;
  width: 100%;
  padding: 5px;
  height: 300px;
}
.clmn {
  float: left;
  width: 100%;
  padding: 5px;
  height: auto;
}

.row:after {
  content: "";
  display: table;
  clear: both;
}

</style>



<!-- ========================= SECTION CONTENT ========================= -->
<section class="section-conten
 padding-y bg orderss" id="orderss">
<i><p style="text-align: center;color:white">Еще раз благодарю вас за то, что рассмотрели мою
    заявку и нашли время ознакомиться с моим резюме.
    Я в восторге от возможности потенциально присоединиться
    к вашей уважаемой команде.</p></i>
<div class="container">
	<div class="row">
	{% include 'sidebar.html' %}
	<main class="col-md-9">
        <div class="row">

    <div class="clmn">
   <form method="get">
    <label for="teacher_name">Filter by Teacher Name:</label>
    <select name="teacher_name">
      <option value="">-- All Teachers --</option>
      {% for teacher in teachers %}
        <option value="{{ teacher.name }}" {% if teacher.name == teacher_name %}selected{% endif %}>
          {{ teacher.name }}
        </option>
      {% endfor %}
    </select>
    <br>

    <label for="course_name">Filter by Course Name:</label>
    <select name="course_name">
      <option value="">-- All Courses --</option>
      {% for course in courses %}
        <option value="{{ course.course_name }}" {% if course.course_name == course_name %}selected{% endif %}>
          {{ course.course_name }}
        </option>
      {% endfor %}
    </select>
    <br>

    <button type="submit">Apply Filter</button>
       <a href="{% url 'home' %}"><button type="button">Clear Filter</button></a>
  </form>
    <h2 style="text-align: center;">Combined Table</h2>
    <table border="1">
        <thead>
            <tr>
                <th>Student ID</th>
                <th>Full Name</th>
                <th>Course</th>
                <th>Course Number</th>
                <th>Semester</th>
                <th>Start Date</th>
                <th>End Date</th>
                <th>Teacher</th>
            </tr>
        </thead>
        <tbody>
            {% for data in combined_data %}
                <tr>
                    <td>{{ data.student__id }}</td>
                    <td>{{ data.student__name }} {{ data.student__first_name }}</td>
                    <td>{{ data.student__course__course_name }}</td>
                    <td>{{ data.student__course__course_number }}</td>
                    <td>{{ data.student__course__coursesemester__semester_id__semester_no }}</td>
                    <td>{{ data.student__course__coursesemester__start_date }}</td>
                    <td>{{ data.student__course__coursesemester__end_date }}</td>
                    <td>{{ data.student__course__coursesemester__semester_id__teacher__name }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    </div>
</div>
	</main>
</div>
</div>


</section>


</body>
</html>
{% endblock %}